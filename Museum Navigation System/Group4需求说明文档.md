# 导览子模块需求说明文档

[toc]

### 1.导言

##### 1.1 目的

本文旨在说明博物馆导览子模块的功能需求和非功能需求。  
本文预期阅读对象是：  

+ 项目的开发人员  
+ 测试人员  
+  维护人员  
+   用户

##### 1.2 内容说明

第二部分简要介绍了所需sdk，第三部分简要介绍了页面，第四部分则提供了安卓端程序合并的规格
##### 1.3缩写说明

无
##### 1.4 术语定义

无

##### 1.5 引用标准  

《需求规格报告格式标准》v1.1

##### 1.6 参考资料

《需求规格报告格式标准》v1.1

### 2.系统概述  


##### 2.1 系统应用背景分析  

博物馆当前对于展品导览的需求归纳如下:  
导览信息的需求：参观者希望每个展品可以多些知识的介绍， 其中包括展品的年代、 发现时间、出土过程、所含有的经历等。  
导览信息形式的需求：在博物馆，参观者不仅希望有文字方式的介绍，图片或视频的形式更能够突出展品的相关特性。同时，为了减缓参观者的压力，信息以声音的形式传递将会更好。

##### 2.2 系统要达到的目标

1.在提供的信息准确丰富的同时，也要让使用者能方便快捷的使用本系统，让管理者能简单有效的管理更新信息。  
2.系统具有良好的运行效率  
3.系统有良好的可扩充性  
4.平台的设计具有一定的超前性

### 3.运行环境
本系统无论客户端的使用者还是管理端的管理者都可以通过网络登录到本系统中，使用者通过网络查询相关信息，管理者通过网络发布相关信息。

+ 系统硬件要求： 安卓6.0及以上

### 4.角色定义

##### 4.1 使用者
使用者是指在客户端使用本系统查询相关信息，使用导览等相关功能的人员。
##### 4.2 管理者
管理者是指在管理端执行上传、更新、修正信息，以及对本系统进行维护升级等相关功能的人员。

（这里指第五组）

### 5.导览子系统

##### 5.1 地图浏览

此部分使用高德地图sdk（https://lbs.amap.com/），通过**okhttp**请求拉取服务器提供的**博物馆经纬度**查询api来显示在地图上组件，调用设备的获取位置函数来取得定位，通过设置点击时间来显示服务器获取的信息。

预计需要服务器的接口列表（尽可能详细）

| 接口名称       | 获取结构示例      |
| :------------- | ----------------- |
| 博物馆经纬度   | （112.25，46.45） |
| 博物馆近期展览 | json格式的新闻    |
| 博物馆讲解音频 | 音频格式          |

##### 5.2 基础信息浏览

使用自定义的适配器显示博物馆的基本信息、展览信息、藏品信息等

| 接口名称   | 获取结构示例                 |
| ---------- | ---------------------------- |
| 博物馆名称 | 兵马桶5A级风景区             |
| 博物馆地点 | 西安市xxxxxx                 |
| 博物馆级别 | 5A                           |
| 开放时间   | 周一——周五，9：00-17：00     |
| 藏品信息   | 一个json数组，用于套娃的请求 |

##### 5.3 音频播放

使用设备自带的播放器调用麦克风播放，从服务器拉流播放完整音频本地播放，可显示当前博物馆的所有导览，也可按内容进行筛选

##### 5.4上传讲解

将文件上传到服务器，需要服务器提供此服务，需要内容提供器寻找文件

##### 5.5用户信息

用户可以注册登录该系统，设置用户名、密码等个人信息，需要服务器提供此服务

| 接口名称 | 获取结构示例 |
| -------- | ------------ |
| 用户名   | abc          |
| 密码     | 123456       |

### 6 页面说明

##### 6.1 主界面
主题突出，栏目、菜单设置布局合理，传递的信息简单易懂，让人一目了然的同时信息务必准确、及时。文字准确，语句通顺；专用术语规范，行文格式统一规范，
##### 6.2 其他页面
主题突出，站点定义、术语和行文格式统一、规范、明确，栏目、菜单设置和布局合理，传递的信息准确、及时。内容丰富，文字准确，语句通顺；专用术语规范，行文格式统一规范

设计示范：![img](D:\BUCTCS1703SECD\Museum Navigation System\3368b258-509f-41a1-8b67-98121b0f9520.jpg)



### 7 程序合并要求

##### 7.1 函数命名规范
数名使用下划线分割小写字母的方式命名：

设备名_操作名()

操作名一般采用：谓语(此时设备名作为宾语或者标明操作所属的模块)或者

谓语+宾语/表语(此时设备名作为主语或者标明操作所属的模块) 等形式，如：

tic_init()

adc_is_busy()

uart_tx_char()

中断函数的命名直接使用 设备名_isr() 的形式命名，如：

timer2_isr()
##### 7.2 布局规范
 简洁整齐，简单易懂
##### 7.3 代码规范
原则一：代码应该简洁易懂，逻辑清晰
因为软件是需要人来维护的。这个人在未来很可能不是你。所以首先是为人编写程序，其次才是计算机：

不要过分追求技巧，降低程序的可读性。
简洁的代码可以让bug无处藏身。要写出明显没有bug的代码，而不是没有明显bug的代码。
原则二：面向变化编程，而不是面向需求编程。
需求是暂时的，只有变化才是永恒的。

本次迭代不能仅仅为了当前的需求，写出扩展性强，易修改的程序才是负责任的做法，对自己负责，对公司负责。

原则三：先保证程序的正确性，防止过度工程
过度工程（over-engineering）：在正确可用的代码写出之前就过度地考虑扩展，重用的问题，使得工程过度复杂。
### 8 性能需求  
#### 8.1 响应时间需求
无论是客户端和管理端，当用户登录，进行任何操作的时候，系统应该及时的进行反应，反应的时间在5秒以内。系统应能监测出各种非正常情况，如与设备的通信中断，无法连接数据库服务器等，避免出现长时间等待甚至无响应。
##### 8.2 可靠性需求
系统应保证7X24内不当机，保证多人可以同时在客户端登录，系统正常运行，正确提示相关内容。
##### 8.3 可扩展性需求
系统设计要求能够体现扩展性要求，以适应将来功能扩展的需求。
##### 8.4 系统安全性需求
系统有严格的权限管理功能，各功能模块需有相应的权限方能进入。系统需能够防止各类误操作可能造成的数据丢失，破坏。防止用户非法获取网页以及内容。
### 9 产品提交
提交产品为：  
a)应用系统软件包  
b)数据库初始数据  
c)需求说明规格文档